<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css"
          integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/movies.css}" type="text/css"/>
    <script crossorigin="anonymous" src="https://kit.fontawesome.com/dd36616560.js"></script>
    <title>Update Cast</title>
</head>
<body>
<div class="container text-center">
    <h1 class="text-center text-light bg-dark mb-3 pt-3 pb-3 font-weight-bold"
        style="border-radius: 0px 0px 30px 30px;">MOVIE COLLECTION</h1>
    <div class="bg-light p-3 container w-50">
        <h2>CHOOSE/ADD ACTORS</h2>
        <p>
            Click on the actors listed below to add them to the movie's cast.<br>
            If the actor isn't on the list, you can write their name and add them to the list.<br>
            You can use Ctrl+F or Command+F to find the actor you're looking for.
        </p>

        <h6 class="bg-dark text-light p-3" style="margin-right: 15px;">All Actors</h6>
        <div class="table-responsive table-wrapper-scroll text-center overflow-auto" style="height:400px;">
            <table class="table table-striped table-hover table-bordered table-sm">
                <th:block th:each="actor, iterStat:${actors}">
                    <tr th:onclick="'javascript:addToCast(\'' + ${actor.actorId} + '\');'">
                        <td th:text="${actor.actor_id}"></td>
                        <td th:text="${actor.actor_name}"></td>
                    </tr>
                </th:block>
            </table>
        </div>

        <div class="mt-2">
            <form action="#" class="form-group" method="POST" th:action="@{/movies/new/actor}" th:object="${actor}">
                <span class="col-sm-1 mt-4">Add new actor to the list</span></br>
                <input class="mt-2" id="new_actor" placeholder="Enter an actor name" style="height:40px; width:40vh;"
                       th:field="*{actorName}" type="text"/>
                <span><button class="btn btn-dark text-light" style="margin-bottom:5px;" type="submit"><i
                        class="fas fa-plus"></i></button></span>
            </form>
        </div>

        <div class="container mt-4">
            <h6>MOVIE CAST</h6>
            <form action="#" class="form-group" method="POST" th:action="@{/movies/edit/confirm/{id}(id=${movie_id})}"
                  th:object="${textForm}">
                <input class="form-control input-sm" id="cast_input" readonly th:field="*{text}" type="text"/>
                <button class="btn btn-dark text-light mt-3" type="submit"><i class="fas fa-check"></i> CONFIRM CAST
                </button>
            </form>
        </div>

    </div>
</div>

<script th:src="@{/js/castEdit.js}" type="text/javascript"></script>
<script crossorigin="anonymous" integrity="sha384-KsvD1yqQ1/1+IA7gi3P0tyJcT3vR+NdBTt13hSJ2lnve8agRGXTTyNaBYmCR/Nwi"
        src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.6.0/dist/umd/popper.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-nsg8ua9HAw1y0W1btsyWgBklPnCUAFLuTMS2G72MMONqmOymq585AcH49TLBQObG"
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.min.js"></script>
</body>
</html>